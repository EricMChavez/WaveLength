import type { WaveformDef, PuzzleDefinition } from '../types.ts';
import { waveform } from '../waveform-generators.ts';

// =============================================================================
// Reusable waveform definitions (used by tutorial puzzle and future levels)
// =============================================================================

export const SINE_FULL_100: WaveformDef = waveform('sine-full');

export const SINE_HALF_50: WaveformDef = waveform('sine-half', { amplitude: 50 });

export const TRIANGLE_FULL_100: WaveformDef = waveform('triangle-full');

export const LEVEL_1: PuzzleDefinition = {
  id: 'level-1',
  title: 'Level 1',
  description: '',
  activeInputs: 3,
  activeOutputs: 3,
  allowedChips: { offset: 0, scale: 0, threshold: 0, add: 0, max: 0, min: 0, duplicate: 0, divide: 0, memory: 0, negate: 0, amp: 0, custom: 0 },
  testCases: [
    {
      name: 'Level 1',
      inputs: [
        waveform('triangle-third'),
        waveform('sine-third'),
        waveform('sawtooth-third'),
      ],
      expectedOutputs: [
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 7.36, 14.67, 21.91, 29.03, 35.99, 42.76, 49.29, 55.56, 61.52, 67.16, 72.42, 77.3, 81.76, 85.77, 89.32, 92.39, 94.95, 97, 98.53, 99.52, 99.97, 99.88, 99.25, 98.08, 96.38, 94.15, 91.42, 88.19, 84.49, 80.32, 75.72, 70.71, 65.32, 59.57, 53.5, 47.14, 40.52, 33.69, 26.67, 19.51, 12.24, 4.91, -2.45, -9.8, -17.1, -24.3, -31.37, -38.27, -44.96, -51.41, -57.58, -63.44, -68.95, -74.1, -78.83, -83.15, -87.01, -90.4, -93.3, -95.69, -97.57, -98.92, -99.73, -100, -99.73, -98.92, -97.57, -95.69, -93.3, -90.4, -87.01, -83.15, -78.83, -74.1, -68.95, -63.44, -57.58, -51.41, -44.96, -38.27, -31.37, -24.3, -17.1, -9.8, -2.45, 4.91, 12.24, 19.51, 26.67, 33.69, 40.52, 47.14, 53.5, 59.57, 65.32, 70.71, 75.72, 80.32, 84.49, 88.19, 91.42, 94.15, 96.38, 98.08, 99.25, 99.88, 99.97, 99.52, 98.53, 97, 94.95, 92.39, 89.32, 85.77, 81.76, 77.3, 72.42, 67.16, 61.52, 55.56, 49.29, 42.76, 35.99, 29.03, 21.91, 14.67, 7.36, 0, -7.36, -14.67, -21.91, -29.03, -35.99, -42.76, -49.29, -55.56, -61.52, -67.16, -72.42, -77.3, -81.76, -85.77, -89.32, -92.39, -94.95, -97, -98.53, -99.52, -99.97, -99.88, -99.25, -98.08, -96.38, -94.15, -91.42, -88.19, -84.49, -80.32, -75.72, -70.71, -65.32, -59.57, -53.5, -47.14, -40.52, -33.69, -26.67, -19.51, -12.24, -4.91, 2.45, 9.8, 17.1, 24.3, 31.37, 38.27, 44.96, 51.41, 57.58, 63.44, 68.95, 74.1, 78.83, 83.15, 87.01, 90.4, 93.3, 95.69, 97.57, 98.92, 99.73, 100, 99.73, 98.92, 97.57, 95.69, 93.3, 90.4, 87.01, 83.15, 78.83, 74.1, 68.95, 63.44, 57.58, 51.41, 44.96, 38.27, 31.37, 24.3, 17.1, 9.8, 2.45, -4.91, -12.24, -19.51, -26.67, -33.69, -40.52, -47.14, -53.5, -59.57, -65.32, -70.71, -75.72, -80.32, -84.49, -88.19, -91.42, -94.15, -96.38, -98.08, -99.25, -99.88, -99.97, -99.52, -98.53, -97, -94.95, -92.39, -89.32, -85.77, -81.76, -77.3, -72.42, -67.16, -61.52, -55.56, -49.29, -42.76, -35.99, -29.03, -21.91, -14.67, -7.36],
        },
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 4.69, 9.38, 14.06, 18.75, 23.44, 28.13, 32.81, 37.5, 42.19, 46.88, 51.56, 56.25, 60.94, 65.63, 70.31, 75, 79.69, 84.38, 89.06, 93.75, 98.44, 96.88, 92.19, 87.5, 82.81, 78.13, 73.44, 68.75, 64.06, 59.38, 54.69, 50, 45.31, 40.63, 35.94, 31.25, 26.56, 21.88, 17.19, 12.5, 7.81, 3.13, -1.56, -6.25, -10.94, -15.62, -20.31, -25, -29.69, -34.37, -39.06, -43.75, -48.44, -53.12, -57.81, -62.5, -67.19, -71.87, -76.56, -81.25, -85.94, -90.62, -95.31, -100, -95.31, -90.63, -85.94, -81.25, -76.56, -71.88, -67.19, -62.5, -57.81, -53.13, -48.44, -43.75, -39.06, -34.38, -29.69, -25, -20.31, -15.63, -10.94, -6.25, -1.56, 3.13, 7.81, 12.5, 17.19, 21.88, 26.56, 31.25, 35.94, 40.63, 45.31, 50, 54.69, 59.38, 64.06, 68.75, 73.44, 78.13, 82.81, 87.5, 92.19, 96.88, 98.44, 93.75, 89.06, 84.37, 79.69, 75, 70.31, 65.62, 60.94, 56.25, 51.56, 46.87, 42.19, 37.5, 32.81, 28.12, 23.44, 18.75, 14.06, 9.37, 4.69, 0, -4.69, -9.38, -14.06, -18.75, -23.44, -28.13, -32.81, -37.5, -42.19, -46.88, -51.56, -56.25, -60.94, -65.63, -70.31, -75, -79.69, -84.38, -89.06, -93.75, -98.44, -96.87, -92.19, -87.5, -82.81, -78.12, -73.44, -68.75, -64.06, -59.37, -54.69, -50, -45.31, -40.62, -35.94, -31.25, -26.56, -21.87, -17.19, -12.5, -7.81, -3.12, 1.56, 6.25, 10.94, 15.63, 20.31, 25, 29.69, 34.38, 39.06, 43.75, 48.44, 53.13, 57.81, 62.5, 67.19, 71.88, 76.56, 81.25, 85.94, 90.63, 95.31, 100, 95.31, 90.62, 85.94, 81.25, 76.56, 71.87, 67.19, 62.5, 57.81, 53.12, 48.44, 43.75, 39.06, 34.37, 29.69, 25, 20.31, 15.62, 10.94, 6.25, 1.56, -3.13, -7.81, -12.5, -17.19, -21.88, -26.56, -31.25, -35.94, -40.63, -45.31, -50, -54.69, -59.38, -64.06, -68.75, -73.44, -78.13, -82.81, -87.5, -92.19, -96.88, -98.44, -93.75, -89.06, -84.37, -79.69, -75, -70.31, -65.62, -60.94, -56.25, -51.56, -46.87, -42.19, -37.5, -32.81, -28.12, -23.44, -18.75, -14.06, -9.37, -4.69],
        },
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 2.34, 4.69, 7.03, 9.38, 11.72, 14.06, 16.41, 18.75, 21.09, 23.44, 25.78, 28.13, 30.47, 32.81, 35.16, 37.5, 39.84, 42.19, 44.53, 46.88, 49.22, 51.56, 53.91, 56.25, 58.59, 60.94, 63.28, 65.63, 67.97, 70.31, 72.66, 75, 77.34, 79.69, 82.03, 84.38, 86.72, 89.06, 91.41, 93.75, 96.09, 98.44, -99.22, -96.88, -94.53, -92.19, -89.84, -87.5, -85.16, -82.81, -80.47, -78.13, -75.78, -73.44, -71.09, -68.75, -66.41, -64.06, -61.72, -59.38, -57.03, -54.69, -52.34, -50, -47.66, -45.31, -42.97, -40.63, -38.28, -35.94, -33.59, -31.25, -28.91, -26.56, -24.22, -21.88, -19.53, -17.19, -14.84, -12.5, -10.16, -7.81, -5.47, -3.13, -0.78, 1.56, 3.91, 6.25, 8.59, 10.94, 13.28, 15.63, 17.97, 20.31, 22.66, 25, 27.34, 29.69, 32.03, 34.38, 36.72, 39.06, 41.41, 43.75, 46.09, 48.44, 50.78, 53.13, 55.47, 57.81, 60.16, 62.5, 64.84, 67.19, 69.53, 71.88, 74.22, 76.56, 78.91, 81.25, 83.59, 85.94, 88.28, 90.63, 92.97, 95.31, 97.66, -100, -97.66, -95.31, -92.97, -90.62, -88.28, -85.94, -83.59, -81.25, -78.91, -76.56, -74.22, -71.87, -69.53, -67.19, -64.84, -62.5, -60.16, -57.81, -55.47, -53.12, -50.78, -48.44, -46.09, -43.75, -41.41, -39.06, -36.72, -34.37, -32.03, -29.69, -27.34, -25, -22.66, -20.31, -17.97, -15.62, -13.28, -10.94, -8.59, -6.25, -3.91, -1.56, 0.78, 3.13, 5.47, 7.81, 10.16, 12.5, 14.84, 17.19, 19.53, 21.88, 24.22, 26.56, 28.91, 31.25, 33.59, 35.94, 38.28, 40.63, 42.97, 45.31, 47.66, 50, 52.34, 54.69, 57.03, 59.38, 61.72, 64.06, 66.41, 68.75, 71.09, 73.44, 75.78, 78.13, 80.47, 82.81, 85.16, 87.5, 89.84, 92.19, 94.53, 96.88, 99.22, -98.44, -96.09, -93.75, -91.41, -89.06, -86.72, -84.37, -82.03, -79.69, -77.34, -75, -72.66, -70.31, -67.97, -65.62, -63.28, -60.94, -58.59, -56.25, -53.91, -51.56, -49.22, -46.87, -44.53, -42.19, -39.84, -37.5, -35.16, -32.81, -30.47, -28.12, -25.78, -23.44, -21.09, -18.75, -16.41, -14.06, -11.72, -9.37, -7.03, -4.69, -2.34],
        }
      ],
    },
  ],
  slotConfig: [
    { active: true, direction: 'input' },
    { active: true, direction: 'input' },
    { active: true, direction: 'input' },
    { active: true, direction: 'output' },
    { active: true, direction: 'output' },
    { active: true, direction: 'output' },
  ],
  tutorialTitle: 'Re-route',
  tutorialMessage: 'Connect inputs A, B, C to the correct Outputs',
};

export const LEVEL_2: PuzzleDefinition = {
  id: 'level-2',
  title: 'Level 2',
  description: '',
  activeInputs: 1,
  activeOutputs: 2,
  allowedChips: { offset: 0, scale: 0, threshold: 0, add: 1, max: 0, min: 0, duplicate: 0, divide: 2, memory: 0, negate: 0, amp: 0, custom: 0 },
  testCases: [
    {
      name: 'Level 2',
      inputs: [
        waveform('sawtooth-sixth'),
      ],
      expectedOutputs: [
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 1.17, 2.35, 3.52, 4.69, 5.86, 7.03, 8.2, 9.38, 10.55, 11.72, 12.89, 14.06, 15.24, 16.41, 17.58, 18.75, 19.92, 21.1, 22.27, 23.44, 24.61, -24.22, -23.05, -21.87, -20.7, -19.53, -18.36, -17.19, -16.01, -14.84, -13.67, -12.5, -11.33, -10.16, -8.98, -7.81, -6.64, -5.47, -4.3, -3.12, -1.95, -0.78, 0.39, 1.56, 2.74, 3.91, 5.08, 6.25, 7.42, 8.6, 9.77, 10.94, 12.11, 13.28, 14.45, 15.63, 16.8, 17.97, 19.14, 20.31, 21.49, 22.66, 23.83, -25, -23.83, -22.65, -21.48, -20.31, -19.14, -17.97, -16.8, -15.62, -14.45, -13.28, -12.11, -10.94, -9.76, -8.59, -7.42, -6.25, -5.08, -3.9, -2.73, -1.56, -0.39, 0.78, 1.95, 3.13, 4.3, 5.47, 6.64, 7.81, 8.99, 10.16, 11.33, 12.5, 13.67, 14.85, 16.02, 17.19, 18.36, 19.53, 20.7, 21.88, 23.05, 24.22, -24.61, -23.44, -22.26, -21.09, -19.92, -18.75, -17.58, -16.4, -15.23, -14.06, -12.89, -11.72, -10.55, -9.37, -8.2, -7.03, -5.86, -4.69, -3.51, -2.34, -1.17, 0, 1.17, 2.35, 3.52, 4.69, 5.86, 7.03, 8.2, 9.38, 10.55, 11.72, 12.89, 14.06, 15.24, 16.41, 17.58, 18.75, 19.92, 21.1, 22.27, 23.44, 24.61, -24.22, -23.05, -21.87, -20.7, -19.53, -18.36, -17.19, -16.01, -14.84, -13.67, -12.5, -11.33, -10.15, -8.98, -7.81, -6.64, -5.47, -4.3, -3.12, -1.95, -0.78, 0.39, 1.56, 2.74, 3.91, 5.08, 6.25, 7.42, 8.6, 9.77, 10.94, 12.11, 13.28, 14.45, 15.63, 16.8, 17.97, 19.14, 20.31, 21.49, 22.66, 23.83, -25, -23.83, -22.65, -21.48, -20.31, -19.14, -17.97, -16.8, -15.62, -14.45, -13.28, -12.11, -10.94, -9.76, -8.59, -7.42, -6.25, -5.08, -3.9, -2.73, -1.56, -0.39, 0.78, 1.95, 3.13, 4.3, 5.47, 6.64, 7.81, 8.99, 10.16, 11.33, 12.5, 13.67, 14.85, 16.02, 17.19, 18.36, 19.53, 20.7, 21.88, 23.05, 24.22, -24.61, -23.44, -22.26, -21.09, -19.92, -18.75, -17.58, -16.4, -15.23, -14.06, -12.89, -11.72, -10.55, -9.37, -8.2, -7.03, -5.86, -4.69, -3.51, -2.34, -1.17],
        },
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 3.52, 7.04, 10.55, 14.06, 17.58, 21.1, 24.61, 28.13, 31.64, 35.16, 38.67, 42.19, 45.71, 49.22, 52.73, 56.25, 59.77, 63.29, 66.8, 70.31, 73.83, -72.66, -69.14, -65.62, -62.11, -58.6, -55.08, -51.56, -48.04, -44.53, -41.02, -37.5, -33.98, -30.47, -26.95, -23.44, -19.92, -16.41, -12.89, -9.37, -5.86, -2.35, 1.17, 4.69, 8.21, 11.72, 15.23, 18.75, 22.27, 25.79, 29.3, 32.81, 36.33, 39.85, 43.36, 46.88, 50.39, 53.91, 57.42, 60.94, 64.46, 67.97, 71.48, -75, -71.48, -67.96, -64.45, -60.94, -57.42, -53.9, -50.39, -46.87, -43.36, -39.84, -36.33, -32.81, -29.29, -25.78, -22.27, -18.75, -15.23, -11.71, -8.2, -4.69, -1.17, 2.35, 5.86, 9.38, 12.89, 16.41, 19.92, 23.44, 26.96, 30.47, 33.98, 37.5, 41.02, 44.54, 48.05, 51.56, 55.08, 58.6, 62.11, 65.63, 69.14, 72.66, -73.83, -70.31, -66.79, -63.28, -59.77, -56.25, -52.73, -49.21, -45.7, -42.19, -38.67, -35.15, -31.64, -28.12, -24.61, -21.09, -17.58, -14.06, -10.54, -7.03, -3.52, 0, 3.52, 7.04, 10.55, 14.06, 17.58, 21.1, 24.61, 28.13, 31.64, 35.16, 38.67, 42.19, 45.71, 49.22, 52.73, 56.25, 59.77, 63.29, 66.8, 70.31, 73.83, -72.65, -69.14, -65.62, -62.11, -58.59, -55.08, -51.56, -48.04, -44.53, -41.02, -37.5, -33.98, -30.46, -26.95, -23.44, -19.92, -16.4, -12.89, -9.37, -5.86, -2.34, 1.17, 4.69, 8.21, 11.72, 15.23, 18.75, 22.27, 25.79, 29.3, 32.81, 36.33, 39.85, 43.36, 46.88, 50.39, 53.91, 57.42, 60.94, 64.46, 67.97, 71.48, -75, -71.48, -67.96, -64.45, -60.94, -57.42, -53.9, -50.39, -46.87, -43.36, -39.84, -36.33, -32.81, -29.29, -25.78, -22.27, -18.75, -15.23, -11.71, -8.2, -4.69, -1.17, 2.35, 5.86, 9.38, 12.89, 16.41, 19.92, 23.44, 26.96, 30.47, 33.98, 37.5, 41.02, 44.54, 48.05, 51.56, 55.08, 58.6, 62.11, 65.63, 69.14, 72.66, -73.83, -70.31, -66.79, -63.28, -59.77, -56.25, -52.73, -49.21, -45.7, -42.19, -38.67, -35.15, -31.64, -28.12, -24.61, -21.09, -17.58, -14.06, -10.54, -7.03, -3.52],
        }
      ],
    },
  ],
  slotConfig: [
    { active: false, direction: 'input' },
    { active: true, direction: 'input' },
    { active: false, direction: 'input' },
    { active: true, direction: 'output' },
    { active: true, direction: 'output' },
    { active: false, direction: 'output' },
  ],
  tutorialTitle: 'A little off the top',
  tutorialMessage: 'Distribute signal B, 25% to output X, and 75% to output Y',
};

export const LEVEL_3: PuzzleDefinition = {
  id: 'level-3',
  title: 'Level 3',
  description: '',
  activeInputs: 2,
  activeOutputs: 1,
  allowedChips: { offset: 0, scale: 0, threshold: 0, add: 1, max: 0, min: 0, duplicate: 0, divide: 0, memory: 0, negate: 1, amp: 0, custom: 0 },
  testCases: [
    {
      name: 'Level 3',
      inputs: [
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 5.52, 11.02, 16.47, 21.87, 27.18, 32.38, 37.47, 42.41, 47.19, 51.8, 56.22, 60.42, 64.41, 68.15, 71.65, 74.9, 77.87, 80.57, 82.98, 85.11, 86.95, 88.5, 89.75, 90.71, 91.37, 91.75, 91.85, 91.68, 91.23, 90.53, 89.58, 88.39, 86.98, 85.36, 83.54, 81.55, 79.39, 77.09, 74.65, 72.11, 69.48, 66.78, 64.03, 61.24, 58.44, 55.65, 52.88, 50.16, 47.49, 44.91, 42.42, 40.05, 37.81, 35.7, 33.76, 31.99, 30.39, 28.99, 27.79, 26.79, 26.01, 25.45, 25.11, 25, 25.11, 25.45, 26.01, 26.79, 27.79, 28.99, 30.39, 31.99, 33.76, 35.7, 37.81, 40.05, 42.42, 44.91, 47.49, 50.16, 52.88, 55.65, 58.44, 61.24, 64.03, 66.78, 69.48, 72.11, 74.65, 77.09, 79.39, 81.55, 83.54, 85.36, 86.98, 88.39, 89.58, 90.53, 91.23, 91.68, 91.85, 91.75, 91.37, 90.71, 89.75, 88.5, 86.95, 85.11, 82.98, 80.57, 77.87, 74.9, 71.65, 68.15, 64.41, 60.42, 56.22, 51.8, 47.19, 42.41, 37.47, 32.38, 27.18, 21.87, 16.47, 11.02, 5.52, 0, -5.52, -11.02, -16.47, -21.87, -27.18, -32.38, -37.47, -42.41, -47.19, -51.8, -56.22, -60.42, -64.41, -68.15, -71.65, -74.9, -77.87, -80.57, -82.98, -85.11, -86.95, -88.5, -89.75, -90.71, -91.37, -91.75, -91.85, -91.68, -91.23, -90.53, -89.58, -88.39, -86.98, -85.36, -83.54, -81.55, -79.39, -77.09, -74.65, -72.11, -69.48, -66.78, -64.03, -61.24, -58.44, -55.65, -52.88, -50.16, -47.49, -44.91, -42.42, -40.05, -37.81, -35.7, -33.76, -31.99, -30.39, -28.99, -27.79, -26.79, -26.01, -25.45, -25.11, -25, -25.11, -25.45, -26.01, -26.79, -27.79, -28.99, -30.39, -31.99, -33.76, -35.7, -37.81, -40.05, -42.42, -44.91, -47.49, -50.16, -52.88, -55.65, -58.44, -61.24, -64.03, -66.78, -69.48, -72.11, -74.65, -77.09, -79.39, -81.55, -83.54, -85.36, -86.98, -88.39, -89.58, -90.53, -91.23, -91.68, -91.85, -91.75, -91.37, -90.71, -89.75, -88.5, -86.95, -85.11, -82.98, -80.57, -77.87, -74.9, -71.65, -68.15, -64.41, -60.42, -56.22, -51.8, -47.19, -42.41, -37.47, -32.38, -27.18, -21.87, -16.47, -11.02, -5.52],
        },
        waveform('sine-full', { amplitude: 75 })
      ],
      expectedOutputs: [
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 3.68, 7.34, 10.95, 14.52, 18, 21.38, 24.65, 27.78, 30.76, 33.58, 36.22, 38.65, 40.88, 42.88, 44.66, 46.2, 47.48, 48.5, 49.26, 49.76, 49.98, 49.94, 49.63, 49.04, 48.18, 47.07, 45.71, 44.1, 42.24, 40.16, 37.86, 35.36, 32.66, 29.79, 26.75, 23.57, 20.26, 16.85, 13.33, 9.75, 6.12, 2.45, -1.23, -4.9, -8.55, -12.15, -15.69, -19.13, -22.48, -25.71, -28.79, -31.72, -34.47, -37.05, -39.42, -41.57, -43.51, -45.2, -46.65, -47.85, -48.79, -49.46, -49.87, -50, -49.87, -49.46, -48.79, -47.85, -46.65, -45.2, -43.51, -41.57, -39.42, -37.05, -34.47, -31.72, -28.79, -25.71, -22.48, -19.13, -15.69, -12.15, -8.55, -4.9, -1.23, 2.45, 6.12, 9.75, 13.33, 16.85, 20.26, 23.57, 26.75, 29.79, 32.66, 35.36, 37.86, 40.16, 42.24, 44.1, 45.71, 47.07, 48.18, 49.04, 49.63, 49.94, 49.98, 49.76, 49.26, 48.5, 47.48, 46.2, 44.66, 42.88, 40.88, 38.65, 36.22, 33.58, 30.76, 27.78, 24.65, 21.38, 18, 14.52, 10.95, 7.34, 3.68, 0, -3.68, -7.34, -10.95, -14.52, -18, -21.38, -24.65, -27.78, -30.76, -33.58, -36.22, -38.65, -40.88, -42.88, -44.66, -46.2, -47.48, -48.5, -49.26, -49.76, -49.98, -49.94, -49.63, -49.04, -48.18, -47.07, -45.71, -44.1, -42.24, -40.16, -37.86, -35.36, -32.66, -29.79, -26.75, -23.57, -20.26, -16.85, -13.33, -9.75, -6.12, -2.45, 1.23, 4.9, 8.55, 12.15, 15.69, 19.13, 22.48, 25.71, 28.79, 31.72, 34.47, 37.05, 39.42, 41.57, 43.51, 45.2, 46.65, 47.85, 48.79, 49.46, 49.87, 50, 49.87, 49.46, 48.79, 47.85, 46.65, 45.2, 43.51, 41.57, 39.42, 37.05, 34.47, 31.72, 28.79, 25.71, 22.48, 19.13, 15.69, 12.15, 8.55, 4.9, 1.23, -2.45, -6.12, -9.75, -13.33, -16.85, -20.26, -23.57, -26.75, -29.79, -32.66, -35.36, -37.86, -40.16, -42.24, -44.1, -45.71, -47.07, -48.18, -49.04, -49.63, -49.94, -49.98, -49.76, -49.26, -48.5, -47.48, -46.2, -44.66, -42.88, -40.88, -38.65, -36.22, -33.58, -30.76, -27.78, -24.65, -21.38, -18, -14.52, -10.95, -7.34, -3.68],
        }
      ],
    },
  ],
  slotConfig: [
    { active: true, direction: 'input' },
    { active: false, direction: 'input' },
    { active: true, direction: 'input' },
    { active: false, direction: 'output' },
    { active: true, direction: 'output' },
    { active: false, direction: 'output' },
  ],
  tutorialTitle: 'Overtone',
  tutorialMessage: 'Remove input C fundamental frequency from A to isolate the overtone',
};

export const LEVEL_4: PuzzleDefinition = {
  id: 'level-4',
  title: 'Level 4',
  description: '',
  activeInputs: 1,
  activeOutputs: 1,
  allowedChips: { offset: 0, scale: 0, threshold: 0, add: 0, max: 0, min: 0, duplicate: 0, divide: 0, memory: 0, negate: 0, amp: 2, average: 0, custom: 0 },
  testCases: [
    {
      name: 'Level 4',
      inputs: [
        waveform('triangle-full')
      ],
      expectedOutputs: [
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 12.5, 14.0625, 15.625, 17.1875, 18.75, 20.3125, 21.875, 23.4375, 25, 26.5625, 28.125, 29.6875, 31.25, 32.8125, 34.375, 35.9375, 37.5, 39.0625, 40.625, 42.1875, 43.75, 45.3125, 46.875, 48.4375, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 48.4375, 46.875, 45.3125, 43.75, 42.1875, 40.625, 39.0625, 37.5, 35.9375, 34.375, 32.8125, 31.25, 29.6875, 28.125, 26.5625, 25, 23.4375, 21.875, 20.3125, 18.75, 17.1875, 15.625, 14.0625, 12.5, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0, -1.5625, -3.125, -4.6875, -6.25, -7.8125, -9.375, -10.9375, -12.5, -14.0625, -15.625, -17.1875, -18.75, -20.3125, -21.875, -23.4375, -25, -26.5625, -28.125, -29.6875, -31.25, -32.8125, -34.375, -35.9375, -37.5, -39.0625, -40.625, -42.1875, -43.75, -45.3125, -46.875, -48.4375, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -48.4375, -46.875, -45.3125, -43.75, -42.1875, -40.625, -39.0625, -37.5, -35.9375, -34.375, -32.8125, -31.25, -29.6875, -28.125, -26.5625, -25, -23.4375, -21.875, -20.3125, -18.75, -17.1875, -15.625, -14.0625, -12.5, -10.9375, -9.375, -7.8125, -6.25, -4.6875, -3.125, -1.5625],
        }
      ],
    },
  ],
  slotConfig: [
    { active: false, direction: 'input' },
    { active: true, direction: 'input' },
    { active: false, direction: 'input' },
    { active: false, direction: 'output' },
    { active: true, direction: 'output' },
    { active: false, direction: 'output' },
  ],
  tutorialTitle: 'Hard wall',
  tutorialMessage: 'Limit the signal to 50% amplitude',
};

export const LEVEL_5: PuzzleDefinition = {
  id: 'level-5',
  title: 'Level 5',
  description: '',
  activeInputs: 2,
  activeOutputs: 2,
  allowedChips: { offset: 1, scale: 0, threshold: 0, add: 0, max: 0, min: 0, duplicate: 0, divide: 0, memory: 0, negate: 0, amp: 1, custom: 0 },
  testCases: [
    {
      name: 'Level 4',
      inputs: [
        waveform('sine-sixth'),
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50, -50],
        }
      ],
      expectedOutputs: [
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0, 14.67, 29.03, 42.76, 55.56, 67.16, 77.3, 85.77, 92.39, 97, 99.52, 99.88, 98.08, 94.15, 88.19, 80.32, 70.71, 59.57, 47.14, 33.69, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -90.4, -83.15, -74.1, -63.44, -51.41, -38.27, -24.3, -9.8, 4.91, 19.51, 33.69, 47.14, 59.57, 70.71, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 29.03, 14.67, 0, -14.67, -29.03, -42.76, -55.56, -67.16, -77.3, -85.77, -92.39, -97, -99.52, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38.27, 51.41, 63.44, 74.1, 83.15, 90.4, 95.69, 98.92, 100, 98.92, 95.69, 90.4, 83.15, 74.1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -97, -92.39, -85.77, -77.3, -67.16, -55.56, -42.76, -29.03, -14.67, 0, 14.67, 29.03, 42.76, 55.56, 67.16, 77.3, 85.77, 92.39, 97, 99.52, 99.88, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80.32, 88.19, 94.15, 98.08, 99.88, 99.52, 97, 92.39, 85.77, 77.3, 67.16, 55.56, 42.76, 29.03, 14.67, 0, -14.67, -29.03, -42.76, -55.56, -67.16, -77.3, -85.77, -92.39, -97, -99.52, -99.88, -98.08, -94.15, -88.19, -80.32, -70.71, -59.57, -47.14, -33.69, -19.51, -4.91, 9.8, 24.3, 38.27, 51.41, 63.44, 74.1, 83.15, 90.4, 95.69, 98.92, 100, 98.92, 95.69, 90.4, 83.15, 74.1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        },
      ],
    },
  ],
  slotConfig: [
    { active: true, direction: 'input' },
    { active: true, direction: 'input' },
    { active: false, direction: 'input' },
    { active: true, direction: 'output' },
    { active: false, direction: 'output' },
    { active: false, direction: 'output' },
  ],
  tutorialTitle: 'Killswitch',
  tutorialMessage: 'Only output signal A when B is at it\'s peak',
};

export const LEVEL_6: PuzzleDefinition = {
  id: 'level-6',
  title: 'Level 6',
  description: '',
  activeInputs: 3,
  activeOutputs: 2,
  allowedChips: { offset: 2, scale: 0, threshold: 0, add: 1, max: 0, min: 0, duplicate: 1, divide: 0, memory: 0, negate: 1, amp: 2, custom: 0 },
  testCases: [
    {
      name: 'Level 6',
      inputs: [
        waveform('sine-sixth'),
        waveform('square-sixth', { amplitude: 25 }),
        waveform('triangle-full')
      ],
      expectedOutputs: [
        {
          shape: 'samples',
          amplitude: 100,
          period: 256,
          phase: 0,
          offset: 0,
          samples: [0.390625, 0, 0.453569808210097, 1.33610966696963, 2.60423546727939, 4.19724346779386, 6.03914416689638, 8.04120571875255, 10.1049323868422, 12.1253906649318, 13.9947852188278, 15.6061790032058, 16.8572470069305, 17.6539512221816, 17.914025682076, 17.5701647511391, 16.5728151840597, 14.8924826123108, 12.5214758219406, 9.4750271266562, 5.79174393485382, 1.53336482273181, -3.21618741706368, -8.35244368417466, -13.7526858506204, -19.2788529072458, -24.7809876626424, -30.1011394675452, -35.0776242690136, -39.5495315741506, -43.3613589628657, -46.3676489045991, -48.4375, -49.4588254982391, -49.342236061192, -48.0244311971829, -45.4709944227955, -41.6785008012165, -36.6758617407108, -30.5248504364726, -23.3197716597477, -15.1862612439541, -6.27922305236253, 3.22006612773683, 13.1076310104586, 23.1611774207151, 33.145083058078, 42.8158875103937, 51.9281542433871, 60.2405648610484, 67.5220968016709, 73.5581300924235, 78.1563270321324, 81.1521308166703, 82.4137351775413, 81.8463869882897, 79.3958973251887, 75.0512533750238, 68.8462435026187, 60.860030283011, 51.2166308564946, 40.0832900090889, 27.6677583008159, 14.2145147128631, -7.53749462601243e-14, -14.6730474455362, -28.5748979172362, -41.4193996760586, -52.9527878346809, -62.958652016908, -71.2619011693773, -77.7316552812747, -82.2830208642865, -84.8777346545226, -85.5236874483919, -84.2733666173114, -81.2212810333925, -76.5004552961204, -70.2781007527595, -62.7505883969254, -54.137862934595, -44.6774478369325, -34.6181978606592, -24.2139582125658, -13.717288266759, -3.37340261000993, 6.5855266158924, 15.9455743061517, 24.5156573858886, 32.1314215120764, 38.6583407537222, 43.9939730679507, 48.0693369612409, 50.8493977381937, 52.3326746103552, 52.550002091879, 51.5625, 49.4588254982391, 46.3517975120289, 42.3744981151614, 37.6759668074591, 32.4166117342794, 26.7634666756538, 20.8854239828496, 14.9485715767613, 9.11175674637237, 3.52249098059356, -1.68670130500506, -6.40140119115427, -10.5278079185069, -13.9945906245219, -16.7540429388497, -18.7825238752677, -20.0801882870162, -20.6700296331646, -20.5962764258786, -19.9222010081906, -18.727414803847, -17.1047374896784, -15.1567383311647, -12.99205592594, -10.7216076250034, -8.45480183365492, -6.29586520169078, -4.34039244546563, -2.67221933393925, -1.36070942463029, -0.458532732672999, 1.63493835844155e-15, 0, 0.390625, 0.78125, 1.171875, 1.5625, 1.953125, 2.34375, 2.734375, 3.125, 3.515625, 3.90625, 4.296875, 4.6875, 5.078125, 5.46875, 5.859375, 6.25, 6.640625, 7.03125, 7.421875, 7.8125, -8.203125, -8.59375, -8.984375, -9.375, -9.765625, -10.15625, -10.546875, -10.9375, -11.328125, -11.71875, -12.109375, -12.5, -12.890625, -13.28125, -13.671875, -14.0625, -14.453125, -14.84375, -15.234375, -15.625, -16.015625, 16.40625, 16.796875, 17.1875, 17.578125, 17.96875, 18.359375, 18.75, 19.140625, 19.53125, 19.921875, 20.3125, 20.703125, 21.09375, 21.484375, 21.875, 22.265625, 22.65625, 23.046875, 23.4375, 23.828125, 24.21875, -24.609375, -25, -24.609375, -24.21875, -23.828125, -23.4375, -23.046875, -22.65625, -22.265625, -21.875, -21.484375, -21.09375, -20.703125, -20.3125, -19.921875, -19.53125, -19.140625, -18.75, -18.359375, -17.96875, -17.578125, -17.1875, 16.796875, 16.40625, 16.015625, 15.625, 15.234375, 14.84375, 14.453125, 14.0625, 13.671875, 13.28125, 12.890625, 12.5, 12.109375, 11.71875, 11.328125, 10.9375, 10.546875, 10.15625, 9.765625, 9.375, 8.984375, -8.59375, -8.203125, -7.8125, -7.421875, -7.03125, -6.640625, -6.25, -5.859375, -5.46875, -5.078125, -4.6875, -4.296875, -3.90625, -3.515625, -3.125, -2.734375, -2.34375, -1.953125, -1.5625, -1.171875, -0.78125],
        }
      ],
    },
  ],
  slotConfig: [
    { active: true, direction: 'input' },
    { active: true, direction: 'input' },
    { active: true, direction: 'input' },
    { active: false, direction: 'output' },
    { active: true, direction: 'output' },
    { active: false, direction: 'output' },
  ],
  tutorialTitle: 'X-Fade',
  tutorialMessage: 'Use the level of signal C to crossfade between A and B',
};
